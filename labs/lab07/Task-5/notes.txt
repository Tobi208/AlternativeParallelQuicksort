unmodified timing:
f_std tests took   1.646 wall seconds.
f_opt tests took   1.940 wall seconds.

Not sure why f_opt is consistently slower here.

setting a[i] = (rand() % 500) * 0.001;
generates values for a[i] from the interval [0, 0.499]

f_std tests took   0.489 wall seconds.
f_opt tests took   0.522 wall seconds.

This looks like it enables the compiler to optimize with branch predictions.